/* VME App - Professional Redesign */

/* 1. FONT IMPORT & CSS VARIABLES */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
  /* Color Palette from New Logo */
  --primary-green: #00897B; /* A clean, modern teal/green */
  --primary-green-dark: #00695C;
  --accent-gold: #FFCA28;   /* A warm, friendly yellow */
  
  /* UI Colors */
  --background-main: #F4F5F7; /* A slightly warmer off-white */
  --surface-card: #FFFFFF;    /* White for cards and modals */
  --border-color: #E5E7EB;     /* Light gray for borders */
  
  /* Text Colors */
  --text-primary: #1F2937;     /* Dark gray for primary text */
  --text-secondary: #6B7280;   /* Medium gray for secondary text */
  --text-on-primary: #FFFFFF;  /* White text on green backgrounds */

  /* System Colors */
  --system-success: #16A34A;
  --system-warning: #F59E0B;
  --system-danger: #DC2626;

  /* Font & Spacing */
  --font-main: 'Inter', sans-serif;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

/* 2. BASE & GENERAL STYLES */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { 
  font-family: var(--font-main); 
  background-color: var(--background-main); 
  color: var(--text-primary); 
  -webkit-font-smoothing: antialiased;
}
h1, h2, h3, h4, h5, h6 { font-weight: 700; }
a { color: var(--primary-green); text-decoration: none; }
a:hover { text-decoration: underline; }

/* 3. LAYOUT & NAVIGATION */
.navbar {
  background-color: var(--surface-card);
  border-bottom: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
}
.navbar-brand span { font-weight: 700; color: var(--text-primary); }

.page-header { 
  display: flex; 
  flex-wrap: wrap; 
  justify-content: space-between; 
  align-items: center; 
  margin-bottom: 2rem; 
  padding: 2rem 0; 
  gap: 1rem; 
}
.page-header h1 { font-size: 1.875rem; }
.page-header p { margin: 0; color: var(--text-secondary); }

/* 4. BUTTONS & FORMS */
.btn {
  font-weight: 600;
  border-radius: 0.5rem;
  transition: all 0.2s ease-in-out;
  padding: 0.6rem 1.25rem;
  border: 1px solid transparent;
}
.btn-primary { 
  background-color: var(--primary-green); 
  border-color: var(--primary-green);
  color: var(--text-on-primary);
}
.btn-primary:hover { 
  background-color: var(--primary-green-dark);
  border-color: var(--primary-green-dark);
}
.btn-secondary {
  background-color: var(--surface-card);
  border-color: var(--border-color);
  color: var(--text-primary);
}
.btn-secondary:hover {
  background-color: var(--background-main);
  border-color: #D1D5DB;
}
.form-control {
  border-radius: 0.5rem;
  border-color: var(--border-color);
}
.form-control:focus {
  border-color: var(--primary-green);
  box-shadow: 0 0 0 0.25rem rgba(0, 137, 123, 0.25);
}

/* 5. CARDS & TABLES */
.card { 
  background-color: var(--surface-card); 
  border: 1px solid var(--border-color); 
  border-radius: 0.75rem; 
  box-shadow: var(--shadow-sm); 
  height: 100%;
}
.card-header { 
  padding: 1rem 1.5rem; 
  background-color: var(--surface-card); 
  border-bottom: 1px solid var(--border-color); 
}
.stat-card .stat-title { font-size: 0.875rem; font-weight: 500; color: var(--text-secondary); }
.stat-card .stat-value { font-size: 2rem; font-weight: 700; color: var(--text-primary); }
.table th { color: var(--text-secondary); }

/* 6. TABS */
.nav-tabs { border-bottom: 1px solid var(--border-color); }
.nav-tabs .nav-link { color: var(--text-secondary); }
.nav-tabs .nav-link.active, .nav-tabs .nav-link:hover { color: var(--primary-green); border-bottom-color: var(--primary-green); }

/* 7. MAP FIX */
#map {
    height: 600px;
    width: 100%;
    border-radius: 0.5rem;
}

/* --- 8. VME CHAT WIDGET (Cleaned, Themed, and Final) --- */
.chat-widget-toggler{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background-color:var(--primary-green);color:var(--text-on-primary);display:flex;align-items:center;justify-content:center;font-size:24px;cursor:pointer;box-shadow:var(--shadow-md);z-index:1050;transition:all .3s ease}
.chat-widget-toggler:hover{background-color: var(--primary-green-dark);}
.chat-widget-container{position:fixed;bottom:90px;right:20px;width:370px;height:500px;background-color:var(--surface-card);border:1px solid var(--border-color);border-radius:.75rem;box-shadow:var(--shadow-md);z-index:1049;display:flex;flex-direction:column;transform:translateY(20px) scale(.95);opacity:0;visibility:hidden;transition:all .3s ease;resize:both;overflow:hidden;min-width:370px;min-height:500px;max-width:80vw;max-height:80vh}
.chat-widget-container.open{transform:translateY(0) scale(1);opacity:1;visibility:visible}

.conversation-list { width: 100%; display: flex; flex-direction: column; height: 100%; }
.tab-content { flex-grow: 1; display: flex; flex-direction: column; min-height: 0; }
.tab-pane { flex-grow: 1; display: none; flex-direction: column; }
.tab-pane.fade.show.active { display: flex; }
.conversation-list-body{overflow-y:auto;flex-grow:1; min-height: 0;} /* THIS FIXES THE SCROLLING */

.conversation{display:flex;align-items:center;gap:1rem;padding:.75rem 1rem;cursor:pointer;border-bottom:1px solid var(--border-color)}
.conversation:hover{background-color:var(--background-main)}
.conversation img{width:45px;height:45px;border-radius:50%;object-fit:cover}

.chat-window{display:none; flex-direction: column; height: 100%;}
.chat-window.active{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background-color:white}

.chat-messages{flex-grow:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:1rem; min-height: 0;} /* THIS FIXES THE SCROLLING */
.chat-message{display:flex;gap:10px;max-width:80%}
.chat-profile-pic{width:32px;height:32px;border-radius:50%;object-fit:cover;align-self:flex-end}
.chat-bubble{padding:.6rem 1rem;border-radius:1.25rem;line-height:1.4}
.chat-message-received .chat-bubble{background-color:var(--background-main);border-top-left-radius:.25rem}
.chat-message-sent{align-self:flex-end;flex-direction:row-reverse}
.chat-message-sent .chat-bubble{background-color:var(--primary-green);color:var(--white)}
