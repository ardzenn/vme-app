/* VINTEL MED ENTERPRSIES CSS*/

/* 1. FONT IMPORT & CSS VARIABLES */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
  /* Color Palette from New Logo */
  --primary-green: #00897B; 
  --primary-green-dark: #00695C;
  --accent-gold: #FFCA28;   
  
  /* UI Colors */
  --background-main: #F4F5F7; 
  --surface-card: #FFFFFF;    
  --border-color: #E5E7EB;     
  
  /* Text Colors */
  --text-primary: #1F2937;    
  --text-secondary: #6B7280;   
  --text-on-primary: #FFFFFF;  

  /* System Colors */
  --system-success: #16A34A;
  --system-warning: #F59E0B;
  --system-danger: #DC2626;

  /* Font & Spacing */
  --font-main: 'Inter', sans-serif;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

/* 2. BASE & GENERAL STYLES */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { 
  font-family: var(--font-main); 
  background-color: var(--background-main); 
  color: var(--text-primary); 
  -webkit-font-smoothing: antialiased;
}
h1, h2, h3, h4, h5, h6 { font-weight: 700; }
a { color: var(--primary-green); text-decoration: none; }
a:hover { text-decoration: underline; }

/* 3. LAYOUT & NAVIGATION */
.navbar {
  background-color: var(--surface-card);
  border-bottom: 1px solid var(--border-color);
  box-shadow: var(--shadow-sm);
}
.navbar-brand span { font-weight: 700; color: var(--text-primary); }

.page-header { 
  display: flex; 
  flex-wrap: wrap; 
  justify-content: space-between; 
  align-items: center; 
  margin-bottom: 2rem; 
  padding: 2rem 0; 
  gap: 1rem; 
}
.page-header h1 { font-size: 1.875rem; }
.page-header p { margin: 0; color: var(--text-secondary); }

/* 4. BUTTONS & FORMS */
.btn {
  font-weight: 600;
  border-radius: 0.5rem;
  transition: all 0.2s ease-in-out;
  padding: 0.6rem 1.25rem;
  border: 1px solid transparent;
}
.btn-primary { 
  background-color: var(--primary-green); 
  border-color: var(--primary-green);
  color: var(--text-on-primary);
}
.btn-primary:hover { 
  background-color: var(--primary-green-dark);
  border-color: var(--primary-green-dark);
}
.btn-secondary {
  background-color: var(--surface-card);
  border-color: var(--border-color);
  color: var(--text-primary);
}
.btn-secondary:hover {
  background-color: var(--background-main);
  border-color: #D1D5DB;
}
.form-control {
  border-radius: 0.5rem;
  border-color: var(--border-color);
}
.form-control:focus {
  border-color: var(--primary-green);
  box-shadow: 0 0 0 0.25rem rgba(0, 137, 123, 0.25);
}

/* 5. CARDS & TABLES */
.card { 
  background-color: var(--surface-card); 
  border: 1px solid var(--border-color); 
  border-radius: 0.75rem; 
  box-shadow: var(--shadow-sm); 
  height: 100%;
}
.card-header { 
  padding: 1rem 1.5rem; 
  background-color: var(--surface-card); 
  border-bottom: 1px solid var(--border-color); 
}
.stat-card .stat-title { font-size: 0.875rem; font-weight: 500; color: var(--text-secondary); }
.stat-card .stat-value { font-size: 2rem; font-weight: 700; color: var(--text-primary); }

.table th { color: var(--text-secondary); }

/* 6. TABS */
.nav-tabs { border-bottom: 1px solid var(--border-color); }
.nav-tabs .nav-link { color: var(--text-secondary); }
.nav-tabs .nav-link.active, .nav-tabs .nav-link:hover { color: var(--primary-green); border-bottom-color: var(--primary-green); }

/* 7. MAP FIX */
#map {
    height: 600px;
    width: 100%;
    border-radius: 0.5rem;
}

/* --- 8. VME CHAT WIDGET (Cleaned, Themed, and Final) --- */
.chat-widget-toggler{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background-color:var(--primary-green);color:var(--text-on-primary);display:flex;align-items:center;justify-content:center;font-size:24px;cursor:pointer;box-shadow:var(--shadow-md);z-index:1050;transition:all .3s ease}
.chat-widget-toggler:hover{background-color: var(--primary-green-dark);}
.chat-widget-container{position:fixed;bottom:90px;right:20px;width:370px;height:500px;background-color:var(--surface-card);border:1px solid var(--border-color);border-radius:.75rem;box-shadow:var(--shadow-md);z-index:1049;display:flex;flex-direction:column;transform:translateY(20px) scale(.95);opacity:0;visibility:hidden;transition:all .3s ease;resize:both;overflow:hidden;min-width:370px;min-height:500px;max-width:80vw;max-height:80vh}
.chat-widget-container.open{transform:translateY(0) scale(1);opacity:1;visibility:visible}

.conversation-list { width: 100%; display: flex; flex-direction: column; height: 100%; }
.tab-content { flex-grow: 1; display: flex; flex-direction: column; min-height: 0; }
.tab-pane { flex-grow: 1; display: none; flex-direction: column; }
.tab-pane.fade.show.active { display: flex; }
.conversation-list-body{overflow-y:auto;flex-grow:1; min-height: 0;}

.conversation{display:flex;align-items:center;gap:1rem;padding:.75rem 1rem;cursor:pointer;border-bottom:1px solid var(--border-color)}
.conversation:hover{background-color:var(--background-main)}
.conversation img{width:45px;height:45px;border-radius:50%;object-fit:cover}

.chat-window{display:none; flex-direction: column; height: 100%;}
.chat-window.active{display:flex;position:absolute;top:0;left:0;width:100%;height:100%;background-color:white}

.chat-messages{flex-grow:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:1rem; min-height: 0;}
.chat-message{display:flex;gap:10px;max-width:80%}
.chat-profile-pic{width:32px;height:32px;border-radius:50%;object-fit:cover;align-self:flex-end}
.chat-bubble{padding:.6rem 1rem;border-radius:1.25rem;line-height:1.4}
.chat-message-received .chat-bubble{background-color:var(--background-main);border-top-left-radius:.25rem}
.chat-message-sent{align-self:flex-end;flex-direction:row-reverse}
.chat-message-sent .chat-bubble{background-color:var(--primary-green);color:var(--white)}

/* --- 9. ORDER DETAIL MODAL RESPONSIVENESS & SCROLL FIX --- */
#orderDetailModal .modal-dialog {
    max-width: 90vw; 
    width: 800px; 
}

#orderDetailModal .modal-content {
    max-height: 80vh; 
    overflow-y: auto; 
}

#orderDetailModal .modal-body {
    display: flex;
    flex-direction: row;
    gap: 1rem;
    overflow-y: auto; 
    padding: 1rem;
    max-height: calc(80vh - 120px); 
}

#orderDetailModal .order-info {
    flex: 1;
    overflow-y: auto; 
    padding-right: 1rem;
    max-height: 100%;
}

#orderDetailModal .chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    border-left: 1px solid var(--border-color);
    padding-left: 1rem;
    height: 100%;
    min-height: 300px;
    max-height: 100%; 
}

#modal_chatMessages {
    flex-grow: 1;
    overflow-y: auto;
    min-height: 0;
    padding: 1rem;
    max-height: 300px;

#orderDetailModal .chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    min-height: 0;
    padding: 1rem;
    max-height: 300px; 
}

#orderDetailModal .product-list {
    max-height: 200px;
    overflow-y: auto; 
}

/* Responsive stacking for smaller screens */
@media (max-width: 768px) {
    #orderDetailModal .modal-body {
        flex-direction: column;
        overflow-y: auto; /* Maintain scrolling */
    }
    #orderDetailModal .chat-container {
        border-left: none;
        border-top: 1px solid var(--border-color);
        padding-left: 0;
        padding-top: 1rem;
        margin-top: 1rem;
        max-height: 400px; /* Adjust for mobile */
    }
    #modal_chatMessages, #orderDetailModal .chat-messages {
        max-height: 250px; /* Adjust for mobile */
    }
    #orderDetailModal .modal-dialog {
        width: 95vw;
    }
    #orderDetailModal .modal-content {
        max-height: 90vh; /* Adjust for mobile */
    }
}

/* Stacks columns on medium screens and below */
@media (max-width: 991.98px) {
    #orderDetailModal .border-start-lg {
        border-left: none !important;
        border-top: 1px solid var(--border-color);
        margin-top: 1rem;
        padding-top: 2rem;
    }
}
}
/* --- 10. COLLECTION DETAILS CHAT SCROLL --- */
.card {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Chat container styles */
.chat-container {
  display: flex;
  flex-direction: column;
  flex-grow: 1; 
  overflow: hidden; 
  max-height: 400px; 
}

/* Chat messages area - make it scrollable */
#chat-messages.chat-messages.flex-grow-1 {
  flex-grow: 1; 
  overflow-y: auto;
  min-height: 0; 
  padding: 1rem; 
  background-color: var(--background-main); 
  border: 1px solid var(--border-color); 
  border-radius: 0.5rem; 
}

/* Chat input area - keep it at the bottom */
.chat-input-area {
  display: flex;
  align-items: center;
  gap: 0.5rem; 
  margin-top: 1rem; 
  flex-shrink: 0; 
}

/* Input and button styles  */
#chat-message-text {
  flex-grow: 1; 
}

#chat-attach-btn,
#send-message-btn {
  flex-shrink: 0; 
}

/* Attachment preview */
#chat-attachment-preview {
  margin-top: 0.5rem;
  max-height: 100px; /* Limit preview height */
  overflow: hidden; /* Hide overflow */
  flex-shrink: 0;
}

/* Scrollbar styling  */
#chat-messages::-webkit-scrollbar {
  width: 8px;
}
#chat-messages::-webkit-scrollbar-track {
  background: var(--background-main);
}
#chat-messages::-webkit-scrollbar-thumb {
  background: var(--text-secondary);
  border-radius: 4px;
}

#chat-messages::-webkit-scrollbar-thumb:hover {
  background: var(--primary-green);
}


/* Auth Pages */

.login-page {
    display: flex;
    min-height: 100vh;
    align-items: center;
    justify-content: center;
    background-color: var(--background-main);
    padding: 1rem;
}
.login-wrapper {
    display: flex;
    width: 100%;
    max-width: 1000px; /* Increased max-width */
    margin: 1.5rem;
    box-shadow: var(--shadow-md);
    border-radius: 1rem;
    overflow: hidden;
    background-color: var(--surface-card);
}
.login-form-container {
    flex: 1;
    padding: 2.5rem 3rem;
}
.login-image-container {
    flex: 1;
    display: none; /* Hidden on small screens, shown on large */
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1.5rem;
    padding: 2rem;
    background-color: #F9FAFB; /* Slightly different background for contrast */
}
.login-logo-img {
    max-width: 80%;
    height: auto;
    opacity: 0;
    animation: fadeInUp 0.8s ease-out forwards;
}
.login-brand-title {
    font-size: 1.5rem;
    color: var(--text-primary);
    text-align: center;
    opacity: 0;
    animation: fadeInUp 0.8s ease-out 0.2s forwards;
}



/* Make the image panel visible on large screens */
@media (min-width: 992px) {
    .login-image-container {
        display: flex;
    }
}


@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Book Order */ 

.book-order-form-container {
    max-width: 800px;
    margin: 2rem auto;
}
.product-entry {
    display: grid;
    grid-template-columns: 1fr 100px 120px 120px 40px;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}
.product-entry:last-child {
    border-bottom: none;
    padding-bottom: 0;
}
.product-entry .form-label {
    margin-bottom: 0.25rem;
    font-size: 0.8rem;
    color: var(--text-secondary);
}
#add-product-btn {
    width: 100%;
    padding: 0.75rem;
    font-weight: 600;
    margin-top: 1rem;
    margin-bottom: 2rem;
    border-style: dashed;
}
.subtotal-display {
    text-align: right;
    font-size: 1.25rem;
    font-weight: 700;
    margin-top: 1.5rem;
}
@media (max-width: 767.98px) {
    .product-entry {
        grid-template-columns: 1fr;
        gap: 0.5rem;
    }
    .product-entry .form-label {
        margin-top: 0.5rem;
    }
}