<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - VME App</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="login-page">
        <div class="login-wrapper">
            <div class="login-form-container">
                <div style="max-width: 400px; margin: auto;">
                    <h2 style="font-size: 1.75rem; margin-bottom: 0.5rem;">Create an Account</h2>
                    <p style="margin-bottom: 2rem;">Join the platform by filling out your details.</p>
                    
                    <!-- FIX: Correctly display flash messages from the server -->
                    <% if (typeof success_msg !== 'undefined' && success_msg.length > 0) { %>
                        <div class="alert alert-success"><%= success_msg %></div>
                    <% } %>
                    <% if (typeof error_msg !== 'undefined' && error_msg.length > 0) { %>
                        <div class="alert alert-danger"><%= error_msg %></div>
                    <% } %>
                    <% if (typeof error !== 'undefined' && error.length > 0) { %>
                        <div class="alert alert-danger"><%= error %></div>
                    <% } %>

                    <form action="/signup" method="POST">
                        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                            <input type="text" name="firstName" placeholder="First Name" class="form-control" required>
                            <input type="text" name="lastName" placeholder="Last Name" class="form-control" required>
                        </div>
                        <input type="email" name="username" placeholder="Email (becomes your username)" class="form-control" style="margin-bottom: 1rem;" required>
                        <input type="password" name="password" placeholder="Password" class="form-control" style="margin-bottom: 1rem;" required>
                        <input type="date" name="birthdate" class="form-control" style="margin-bottom: 1rem;" required>
                        <input type="text" name="area" placeholder="Area" class="form-control" style="margin-bottom: 1rem;" required>
                        <textarea name="address" placeholder="Full Address" class="form-control" style="margin-bottom: 1.5rem;" required></textarea>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 0.8rem;">Sign Up</button>
                    </form>

                    <p style="text-align: center; margin-top: 2rem; font-size: 0.875rem;">
                        Already have an account? <a href="/login" style="font-weight: 600; text-decoration: none;">Sign In</a>
                    </p>
                </div>
            </div>
            <div class="login-image-container">
                 <img src="/images/logo.png" alt="VME Logo" class="login-logo-img">
                 <h2 class="login-brand-title">VINTEL MED ENTERPRISES</h2>
            </div>
        </div>
    </div>
    <style>
        .alert { padding: 1rem; border-radius: 0.5rem; margin-bottom: 1.5rem; border: 1px solid transparent; }
        .alert-danger { background-color: #FEE2E2; color: #B91C1C; border-color: #FCA5A5; }
        .alert-success { background-color: #D1FAE5; color: #065F46; border-color: #6EE7B7; }
    </style>
</body>
</html>
